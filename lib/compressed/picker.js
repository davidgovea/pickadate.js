/*!
<<<<<<< HEAD
 * pickadate.js v3.1.4, 2013/07/29
=======
 * pickadate.js v3.2.1, 2013/08/24
>>>>>>> upstream/gh-pages
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
<<<<<<< HEAD
window.Picker=function(a,b,c){function d(e,f,g,h){function i(){return d._.node("div",d._.node("div",d._.node("div",d._.node("div",p.component.nodes(k.open),m.box),m.wrap),m.frame),m.holder)}function j(a){a.stopPropagation(),"focus"==a.type&&p.$root.addClass(m.focused),p.open()}if(!e)return d;var k={id:Math.abs(~~(1e9*Math.random()))},l=g?a.extend(!0,{},g.defaults,h):h||{},m=a.extend({},d.klasses(),l.klass),n=a(e),o=function(){return this.start()},p=o.prototype={constructor:o,$node:n,start:function(){return k&&k.start?p:(k.methods={},k.start=!0,k.open=!1,k.type=e.type,e.autofocus=e==document.activeElement,e.type="text",e.readOnly=!0,p.component=new g(p,l),p.$root=a(d._.node("div",i(),m.picker)).on({focusin:function(a){p.$root.removeClass(m.focused),a.stopPropagation()},mousedown:function(a){a.target!=p.$root.children()[0]&&a.stopPropagation()},click:function(b){var c=b.target,f=c.attributes.length?a(c):a(c).closest("[data-pick]"),g=f.data();c!=p.$root.children()[0]&&(b.stopPropagation(),p.$root.find(document.activeElement).length||e.focus(),g.nav&&!f.hasClass(m.navDisabled)?p.set("highlight",p.component.item.highlight,{nav:g.nav}):d._.isInteger(g.pick)&&!f.hasClass(m.disabled)?p.set("select",g.pick).close(!0):g.clear&&p.clear().close(!0))}}),p._hidden=l.formatSubmit?a("<input type=hidden name="+e.name+(l.hiddenSuffix||"_submit")+(n.data("value")?' value="'+d._.trigger(p.component.formats.toString,p.component,[l.formatSubmit,p.component.item.select])+'"':"")+">")[0]:c,n.addClass(m.input).on("focus.P"+k.id+" click.P"+k.id,j).on("change.P"+k.id,function(){p._hidden&&(p._hidden.value=e.value?d._.trigger(p.component.formats.toString,p.component,[l.formatSubmit,p.component.item.select]):"")}).on("keydown.P"+k.id,function(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(p.close(),!1):((32==b||c||!k.open&&p.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?p.clear().close():p.open()),void 0)}).val(n.data("value")?d._.trigger(p.component.formats.toString,p.component,[l.format,p.component.item.select]):e.value).after(p._hidden).data(f,p),l.container?a(l.container).append(p.$root):n.after(p.$root),p.on({start:p.component.onStart,render:p.component.onRender,stop:p.component.onStop,open:p.component.onOpen,close:p.component.onClose,set:p.component.onSet}).on({start:l.onStart,render:l.onRender,stop:l.onStop,open:l.onOpen,close:l.onClose,set:l.onSet}),e.autofocus&&p.open(),p.trigger("start").trigger("render"))},render:function(){return p.$root.html(i()),p.trigger("render")},stop:function(){return k.start?(p.close(),p._hidden&&p._hidden.parentNode.removeChild(p._hidden),p.$root.remove(),n.removeClass(m.input).off(".P"+k.id).removeData(f),e.type=k.type,e.readOnly=!1,p.trigger("stop"),k.methods={},k.start=!1,p):p},open:function(a){return k.open?p:(n.addClass(m.active),p.$root.addClass(m.opened),a!==!1&&(k.open=!0,n.focus(),b.on("click.P"+k.id+" focusin.P"+k.id,function(a){a.target!=e&&a.target!=document&&p.close()}).on("keydown.P"+k.id,function(a){var b=a.keyCode,c=p.component.key[b],f=a.target;27==b?p.close(!0):f!=e||!c&&13!=b?p.$root.find(f).length&&13==b&&(a.preventDefault(),f.click()):(a.preventDefault(),c?d._.trigger(p.component.key.go,p,[c]):p.$root.find("."+m.highlighted).hasClass(m.disabled)||p.set("select",p.component.item.highlight).close())})),p.trigger("open"))},close:function(a){return a&&(n.off("focus.P"+k.id).focus(),setTimeout(function(){n.on("focus.P"+k.id,j)},0)),n.removeClass(m.active),p.$root.removeClass(m.opened+" "+m.focused),k.open&&(k.open=!1,b.off(".P"+k.id)),p.trigger("close")},clear:function(){return p.set("clear")},set:function(a,b,c){var e,f,g=d._.isObject(a),h=g?a:{};if(a){g||(h[a]=b);for(e in h)f=h[e],p.component.item[e]&&p.component.set(e,f,c||{}),("select"==e||"clear"==e)&&n.val("clear"==e?"":d._.trigger(p.component.formats.toString,p.component,[l.format,p.component.get(e)])).trigger("change");p.render()}return p.trigger("set",h)},get:function(a,b){return a=a||"value",null!=k[a]?k[a]:"value"==a?e.value:p.component.item[a]?"string"==typeof b?d._.trigger(p.component.formats.toString,p.component,[b,p.component.get(a)]):p.component.get(a):void 0},on:function(a,b){var c,e,f=d._.isObject(a),g=f?a:{};if(a){f||(g[a]=b);for(c in g)e=g[c],k.methods[c]=k.methods[c]||[],k.methods[c].push(e)}return p},trigger:function(a,b){var c=k.methods[a];return c&&c.map(function(a){d._.trigger(a,p,[b])}),p}};return new o}return d.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},d._={group:function(a){for(var b,c="",e=d._.trigger(a.min,a);e<=d._.trigger(a.max,a,[e]);e+=a.i)b=d._.trigger(a.item,a,[e]),c+=d._.node(a.node,b[0],b[1],b[2]);return c},node:function(a,b,c,d){return b?(b=Array.isArray(b)?b.join(""):b,c=c?' class="'+c+'"':"",d=d?" "+d:"","<"+a+c+d+">"+b+"</"+a+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isObject:function(a){return{}.toString.call(a).indexOf("Object")>-1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&0===a%1}},d.extend=function(b,c){a.fn[b]=function(e,f){var g=this.data(b);return"picker"==e?g:g&&"string"==typeof e?(d._.trigger(g[e],g,[f]),this):this.each(function(){var f=a(this);f.data(b)||new d(this,b,c,e)})},a.fn[b].defaults=c.defaults},d}(jQuery,jQuery(document));
=======
!function(a){"function"==typeof define&&define.amd?define("picker",["jquery"],a):this.Picker=a(jQuery)}(function(a){function b(d,e,f,g){function h(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",o.component.nodes(j.open),l.box),l.wrap),l.frame),l.holder)}function i(a){a.stopPropagation(),"focus"==a.type&&o.$root.addClass(l.focused),o.open()}if(!d)return b;var j={id:Math.abs(~~(1e9*Math.random()))},k=f?a.extend(!0,{},f.defaults,g):g||{},l=a.extend({},b.klasses(),k.klass),m=a(d),n=function(){return this.start()},o=n.prototype={constructor:n,$node:m,start:function(){return j&&j.start?o:(j.methods={},j.start=!0,j.open=!1,j.type=d.type,d.autofocus=d==document.activeElement,d.type="text",d.readOnly=!0,o.component=new f(o,k),o.$root=a(b._.node("div",h(),l.picker)).on({focusin:function(a){o.$root.removeClass(l.focused),a.stopPropagation()},mousedown:function(a){a.target!=o.$root.children()[0]&&a.stopPropagation()},click:function(c){var e=c.target,f=e.attributes.length?a(e):a(e).closest("[data-pick]"),g=f.data();e!=o.$root.children()[0]&&(c.stopPropagation(),a.contains(o.$root[0],document.activeElement)||d.focus(),g.nav&&!f.hasClass(l.navDisabled)?o.set("highlight",o.component.item.highlight,{nav:g.nav}):b._.isInteger(g.pick)&&!f.hasClass(l.disabled)?o.set("select",g.pick).close(!0):g.clear&&o.clear().close(!0))}}),k.formatSubmit&&(o._hidden=a('<input type=hidden name="'+d.name+(k.hiddenSuffix||"_submit")+'"'+(m.data("value")?' value="'+b._.trigger(o.component.formats.toString,o.component,[k.formatSubmit,o.component.item.select])+'"':"")+">")[0]),m.addClass(l.input).on("focus.P"+j.id+" click.P"+j.id,i).on("change.P"+j.id,function(){o._hidden&&(o._hidden.value=d.value?b._.trigger(o.component.formats.toString,o.component,[k.formatSubmit,o.component.item.select]):"")}).on("keydown.P"+j.id,function(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(o.close(),!1):((32==b||c||!j.open&&o.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?o.clear().close():o.open()),void 0)}).val(m.data("value")?b._.trigger(o.component.formats.toString,o.component,[k.format,o.component.item.select]):d.value).after(o._hidden).data(e,o),k.container?a(k.container).append(o.$root):m.after(o.$root),o.on({start:o.component.onStart,render:o.component.onRender,stop:o.component.onStop,open:o.component.onOpen,close:o.component.onClose,set:o.component.onSet}).on({start:k.onStart,render:k.onRender,stop:k.onStop,open:k.onOpen,close:k.onClose,set:k.onSet}),d.autofocus&&o.open(),o.trigger("start").trigger("render"))},render:function(a){return a?o.$root.html(h()):o.$root.find("."+l.box).html(o.component.nodes(j.open)),o.trigger("render")},stop:function(){return j.start?(o.close(),o._hidden&&o._hidden.parentNode.removeChild(o._hidden),o.$root.remove(),m.removeClass(l.input).off(".P"+j.id).removeData(e),d.type=j.type,d.readOnly=!1,o.trigger("stop"),j.methods={},j.start=!1,o):o},open:function(e){return j.open?o:(m.addClass(l.active),o.$root.addClass(l.opened),e!==!1&&(j.open=!0,m.focus(),c.on("click.P"+j.id+" focusin.P"+j.id,function(a){a.target!=d&&a.target!=document&&o.close()}).on("keydown.P"+j.id,function(c){var e=c.keyCode,f=o.component.key[e],g=c.target;27==e?o.close(!0):g!=d||!f&&13!=e?a.contains(o.$root[0],g)&&13==e&&(c.preventDefault(),g.click()):(c.preventDefault(),f?b._.trigger(o.component.key.go,o,[f]):o.$root.find("."+l.highlighted).hasClass(l.disabled)||o.set("select",o.component.item.highlight).close())})),o.trigger("open"))},close:function(a){return a&&(m.off("focus.P"+j.id).focus(),setTimeout(function(){m.on("focus.P"+j.id,i)},0)),m.removeClass(l.active),o.$root.removeClass(l.opened+" "+l.focused),j.open&&(j.open=!1,c.off(".P"+j.id)),o.trigger("close")},clear:function(){return o.set("clear")},set:function(a,c,d){var e,f,g=b._.isObject(a),h=g?a:{};if(a){g||(h[a]=c);for(e in h)f=h[e],o.component.item[e]&&o.component.set(e,f,d||{}),("select"==e||"clear"==e)&&m.val("clear"==e?"":b._.trigger(o.component.formats.toString,o.component,[k.format,o.component.get(e)])).trigger("change");o.render()}return o.trigger("set",h)},get:function(a,c){return a=a||"value",null!=j[a]?j[a]:"value"==a?d.value:o.component.item[a]?"string"==typeof c?b._.trigger(o.component.formats.toString,o.component,[c,o.component.get(a)]):o.component.get(a):void 0},on:function(a,c){var d,e,f=b._.isObject(a),g=f?a:{};if(a){f||(g[a]=c);for(d in g)e=g[d],j.methods[d]=j.methods[d]||[],j.methods[d].push(e)}return o},trigger:function(a,c){var d=j.methods[a];return d&&d.map(function(a){b._.trigger(a,o,[c])}),o}};return new n}var c=a(document);return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,d="",e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)c=b._.trigger(a.item,a,[e]),d+=b._.node(a.node,c[0],c[1],c[2]);return d},node:function(b,c,d,e){return c?(c=a.isArray(c)?c.join(""):c,d=d?' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isObject:function(a){return{}.toString.call(a).indexOf("Object")>-1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&0===a%1}},b.extend=function(c,d){a.fn[c]=function(e,f){var g=this.data(c);return"picker"==e?g:g&&"string"==typeof e?(b._.trigger(g[e],g,[f]),this):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b});
>>>>>>> upstream/gh-pages
